(this.webpackJsonpfire_lab=this.webpackJsonpfire_lab||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),i=n(31),c=n.n(i),r=(n(37),n(38),n(13)),l=n(14),o=n(22);n(39),n(48);o.a.apps.length?o.a.app():o.a.initializeApp({apiKey:"AIzaSyCPy6TkA-mWKzjGicqjn_lxVKwMWPXjjlY",authDomain:"lab6248878.firebaseapp.com",projectId:"lab6248878",storageBucket:"lab6248878.appspot.com",messagingSenderId:"332071371929",appId:"1:332071371929:web:fa6ec09cad753c4204a408"});var j=o.a.auth(),u=o.a.firestore(),d=function(){var e=[];return u.collection("list").onSnapshot((function(t){t.forEach((function(t){var n={name:t.data().name,description:t.data().description,email:t.data().email};e.push(n)}))})),e},h=function(e,t,n){u.collection("list").add({name:e,description:t,email:n})},b=n(1),O=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],s=t[1];Object(a.useEffect)((function(){var e=j.onAuthStateChanged((function(e){s(e||null)}));return function(){return e()}}),[]);return n?Object(b.jsxs)("nav",{a:!0,children:[Object(b.jsx)(l.b,{to:"/lista",children:"Lista Wszystkich"}),Object(b.jsx)(l.b,{to:"/dod",children:"Dodaj"}),Object(b.jsx)("a",{href:"/",onClick:function(){j.signOut()},children:"Wyloguj"})]}):Object(b.jsxs)("nav",{children:[Object(b.jsx)(l.b,{to:"/",exact:!0,children:"Logowanie"}),Object(b.jsx)(l.b,{to:"/reg",children:"Rejestracja"})]})},m=n(18),p=n(19),x=n(21),w=n(20),f=n(5),v=function(e){for(var t=e.list,n=0,a=0;a<t.length;a++)n++;return Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Wyswietlone pozycje: ",n]})})};var g=function(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t},E=function(e){var t=e.list.map((function(e){return Object(b.jsxs)("li",{style:{listStyleType:"none"},className:"border",children:[Object(b.jsxs)("p",{className:"listElement",children:["Imie i nazwisko: ",e.name]}),Object(b.jsxs)("p",{className:"listElement",children:["Opis: ",e.description]}),Object(b.jsxs)("p",{className:"listElement",children:["E-mail: ",e.email]})]},g(e.name))}));return Object(b.jsx)("ul",{children:t})},y=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={filteredDescriptions:e.props.filteredList},e.h2Text="Wyszukiwanie student\xf3w po opisach",e.getFilteredContent=function(t){return e.props.filteredList.filter((function(e){return e.description.toLowerCase().includes(t.toLowerCase())}))},e.handleNewEntry=function(t){var n=t.currentTarget.value,a=e.getFilteredContent(n);e.setState({filteredDescriptions:a})},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"borderSearch",children:[Object(b.jsx)("p",{children:this.h2Text}),Object(b.jsx)("input",{type:"search",name:"newSearchValue",value:this.state.newSearchValue,onChange:this.handleNewEntry}),Object(b.jsx)(v,{list:this.state.filteredDescriptions})]}),Object(b.jsx)(E,{list:this.state.filteredDescriptions})]})}}]),n}(s.a.Component),N=n(15),V=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={newListElement:{name:"",description:"",email:""},newNameValue:"",newEmailValue:"",newDescriptionValue:"",warning:!1},e.classText="Dodaj nowego studenta:",e.nameText="Prosz\u0119 poda\u0107 Imi\u0119:",e.descriptionText="Prosz\u0119 poda\u0107 Opis:",e.emailText="Prosz\u0119 poda\u0107 Email:",e.errorMessage="Jedno, lub wi\u0119cej p\xf3l s\u0105 puste",e.handleNewEntryN=function(t){e.setState({newNameValue:t.target.value})},e.handleNewEntryEm=function(t){e.setState({newEmailValue:t.target.value})},e.handleNewEntryDesc=function(t){e.setState({newDescriptionValue:t.target.value})},e.handleOnClick=function(){var t;""===e.state.newNameValue||""===e.state.newEmailValue||""===e.state.newDescriptionValue?e.setState({warning:!0}):(h(e.state.newNameValue,e.state.newDescriptionValue,e.state.newEmailValue),e.setState((t={newListElement:e.state.newListElement.name=e.state.newNameValue},Object(N.a)(t,"newListElement",e.state.newListElement.description=e.state.newDescriptionValue),Object(N.a)(t,"newListElement",e.state.newListElement.email=e.state.newEmailValue),Object(N.a)(t,"newListElement",{}),Object(N.a)(t,"newNameValue",""),Object(N.a)(t,"newEmailValue",""),Object(N.a)(t,"newDescriptionValue",""),Object(N.a)(t,"warning",!1),t)),e.props.main(e.state.newListElement))},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:this.props.dummyText}),this.state.warning&&Object(b.jsx)("h2",{className:"borderWarning",children:this.errorMessage}),Object(b.jsxs)("div",{className:"borderAdd",children:[Object(b.jsx)("p",{children:this.classText}),Object(b.jsx)("p",{children:this.nameText}),Object(b.jsx)("input",{type:"text",name:"newNameValue",value:this.state.newNameValue,onChange:this.handleNewEntryN}),Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:this.descriptionText}),Object(b.jsx)("input",{type:"text",name:"newDescriptionValue",value:this.state.newDescriptionValue,onChange:this.handleNewEntryDesc}),Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:this.emailText}),Object(b.jsx)("input",{type:"text",name:"newEmailValue",value:this.state.newEmailValue,onChange:this.handleNewEntryEm}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"button",name:"Dodaj",onClick:this.handleOnClick,className:"buttonMargin btn btn-success",children:"Dodaj"})]})]})}}]),n}(s.a.Component),C=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),c=Object(r.a)(i,2),l=c[0],o=c[1],u=Object(a.useState)(!1),d=Object(r.a)(u,2),h=d[0],O=d[1];return h?Object(b.jsx)(f.a,{to:"/lista"}):Object(b.jsxs)("div",{className:"borderAuth",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(b.jsx)("div",{className:"element",children:Object(b.jsx)("input",{placeholder:"Email",value:n,onChange:function(e){return s(e.target.value)}})}),Object(b.jsx)("label",{htmlFor:"has\u0142o",children:"Has\u0142o: "}),Object(b.jsx)("div",{className:"element",children:Object(b.jsx)("input",{placeholder:"Has\u0142o",type:"password",value:l,onChange:function(e){return o(e.target.value)}})}),Object(b.jsx)("button",{onClick:function(){j.signInWithEmailAndPassword(n,l).then((function(){O(!0)})).catch((function(e){console.log(e)}))},children:"Zaloguj si\u0119"})]})},S=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),c=Object(r.a)(i,2),l=c[0],o=c[1],u=Object(a.useState)(""),d=Object(r.a)(u,2),h=d[0],O=d[1],m=Object(a.useState)(!1),p=Object(r.a)(m,2),x=p[0],w=p[1];return x?Object(b.jsx)(f.a,{to:"/lista"}):Object(b.jsxs)("div",{className:"borderAuth",children:[Object(b.jsx)("label",{htmlFor:"displayName",children:" Nazwa: "}),Object(b.jsx)("div",{className:"element",children:Object(b.jsx)("input",{name:"name",value:h,placeholder:"Nazwa",onChange:function(e){return O(e.target.value)}})}),Object(b.jsx)("label",{htmlFor:"email",children:" Email: "}),Object(b.jsx)("div",{className:"element",children:Object(b.jsx)("input",{name:"email",value:n,placeholder:"Tw\xf3j email",onChange:function(e){return s(e.target.value)}})}),Object(b.jsx)("label",{htmlFor:"password",children:" Has\u0142o (min 6 znak\xf3w): "}),Object(b.jsx)("div",{className:"element",children:Object(b.jsx)("input",{name:"password",value:l,placeholder:"Twoje haslo",onChange:function(e){return o(e.target.value)}})}),Object(b.jsx)("button",{onClick:function(){j.createUserWithEmailAndPassword(n,l).then((function(){j.signInWithEmailAndPassword(n,l).then((function(e){e.user.updateProfile({displayName:h})})).catch((function(e){console.log(e)})),w(!0)})).catch((function(e){console.log(e)}))},children:"Utw\xf3rz konto"})]})},k=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={list:d()},e.updateList=function(t){e.setState({list:e.state.list.concat({name:t.name,description:t.description,email:t.email})})},e}return Object(p.a)(n,[{key:"render",value:function(){return console.log(this.state.list),Object(b.jsxs)(f.d,{children:[Object(b.jsx)(f.b,{path:"/",exact:!0,children:Object(b.jsx)("section",{children:Object(b.jsx)(C,{})})}),Object(b.jsx)(f.b,{path:"/lista",children:Object(b.jsx)("section",{children:Object(b.jsx)(y,{filteredList:this.state.list})})}),Object(b.jsx)(f.b,{path:"/dod",children:Object(b.jsx)("section",{children:Object(b.jsx)(V,{main:this.updateList})})}),Object(b.jsx)(f.b,{path:"/reg",children:Object(b.jsx)("section",{children:Object(b.jsx)(S,{})})}),Object(b.jsx)(f.b,{children:Object(b.jsx)("section",{children:Object(b.jsx)("h1",{children:"Error 404 - not found"})})})]})}}]),n}(a.Component);var D=function(){return Object(b.jsxs)(l.a,{children:[Object(b.jsx)("header",{children:"Wyszukiwarka grup"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{}),Object(b.jsx)(k,{})]})]})};c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.3543cd9c.chunk.js.map